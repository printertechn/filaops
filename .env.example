# ===========================================
# FilaOps ERP - Environment Configuration
# ===========================================
# Copy this file to .env and customize for your setup
#
# QUICK START:
#   1. Copy: cp .env.example .env
#   2. Change DB_PASSWORD and SECRET_KEY
#   3. Run: ./install.sh (Linux/Mac) or .\install.ps1 (Windows)
# ===========================================

# ===================
# Database Settings (PostgreSQL)
# ===================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=filaops
DB_USER=postgres
DB_PASSWORD=FilaOps2024!

# ===================
# Security
# ===================
# IMPORTANT: Generate a secure key for production!
# Run: openssl rand -hex 32
SECRET_KEY=change-this-in-production-use-openssl-rand-hex-32

# ===================
# Environment
# ===================
# Set to "production" for deployment, "development" for local testing
ENVIRONMENT=production
DEBUG=false

# ===================
# Frontend URL
# ===================
# Change this if deploying to a custom domain
# Used for CORS and API URL in frontend
VITE_API_URL=http://localhost:8001
FRONTEND_URL=http://localhost:5173

# ===================
# Optional: External Access
# ===================
# If accessing from other machines on your network,
# use your server's IP address instead of localhost:
# VITE_API_URL=http://192.168.1.100:8001
# FRONTEND_URL=http://192.168.1.100:5173
#
# IMPORTANT: After changing VITE_API_URL, you MUST rebuild the frontend:
#   cd frontend && npm run build
# (Vite bakes environment variables into the build at compile time)

# ===================
# Optional: Bambu Print Suite Integration
# ===================
# If you have Bambu Print Suite running, enable integration:
# BAMBU_SUITE_API_URL=http://localhost:8001
# BAMBU_SUITE_API_KEY=your-bambu-api-key

# ===================
# Optional: Email Notifications
# ===================
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-app-password
# SMTP_FROM_EMAIL=noreply@yourdomain.com

# ===================
# MRP (Material Requirements Planning)
# ===================
# Include Sales Orders as independent demand in MRP calculations
# When enabled, MRP will explode BOMs for sales orders and calculate
# component requirements, not just production orders
INCLUDE_SALES_ORDERS_IN_MRP=true

# Auto-trigger settings (all default to false for simplicity)
# Most users should run MRP manually or on a schedule rather than
# auto-triggering on every transaction (causes "MRP nervousness")
AUTO_MRP_ON_ORDER_CREATE=false
AUTO_MRP_ON_SHIPMENT=false
AUTO_MRP_ON_CONFIRMATION=false

# Sub-assembly due date cascading
# When enabled, sub-assembly due dates are calculated backwards from
# parent product due dates (sub-assembly lead time + buffer)
# Disable until you've validated basic MRP works correctly
MRP_ENABLE_SUB_ASSEMBLY_CASCADING=false